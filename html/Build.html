<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>wc3270 Build Instructions</title>
  <link href="http://www.w3.org/StyleSheets/Core/Steely" type="text/css" rel="stylesheet">
</head>
<body>
<h1>wc3270 Build Instructions</h1>
<h2>Using MinGW</h2>
<h3>Under Cygwin</h3>
<i>wc3270</i> can be built on Windows using the MinGW tools under Cygwin.
For more information about MinGW, visit the <a href="http://www.mingw.org/">
MinGW webpage</a>.
For more information about Cygwin, visit the <a href="http://www.cygwin.com/">
Cygwin webpage</a>.
<p>
The minimum set of Cygwin packages needed to build <i>wc3270</i> are:
 <ul>
     <li>The default set (bash, etc.)</li>
     <li>The <b>make</b> package from the <b>Devel</b> group.</li>
     <li>The <b>gcc-core</b> package from the <b>Devel</b> group.</li>
 </ul>
</p>
<p>
To build <i>wc3270</i>, start a Cygwin shell,
<b>cd</b> to the directory where the source code resides, and type:  
<pre>&nbsp;&nbsp;&nbsp;make</pre>
</p>
<i>wc3270</i> was developed primarily on 32-bit Windows XP and 64-bit
  Windows 7, but should be buildable on Windows Server 2003 or Windows 2000
  (though Windows 2000 has been known to build defective <i>wc3270</i> DLLs).
  It has not been built on 64-bit XP or on Vista.
<h3>On Linux</h3>
<p>
  <i>wc3270</i> can also be built on Linux with the MinGW cross-compiler.
  (This is how public releases of <i>wc3270</i> are built.)
  On Ubuntu, this compiler is available as the <b>mingw32</b> package, and
  the Makefile has been set up to use it.
  To build wc3270 on Linux with MinGW, use the command:
  <pre>&nbsp;&nbsp;&nbsp;make CROSS=1</pre>
</p>
<h3>With OpenSSL Support</h3>
<p>
 To build an OpenSSL version of <i>wc3270</i> on Cygwin or Linux, you will
 need the header files and libraries from the full Win32 OpenSSL distribution
 described in the <a href="SSL.html">SSL Instructions</a> (not the 'lite'
 version).  First, install OpenSSL on your Windows box.
 Then create a directory called <tt>/usr/local/OpenSSL-Win32</tt> under Cygwin
 or on your Linux system.
Then copy the <tt>include</tt> and <tt>lib</tt> directories from
 the OpenSSL distribution on the Windows box (usually located in
 <tt>C:\OpenSSL-Win32</tt>) into <tt>/usr/local/OpenSSL-Win32</tt> on the
 Cygwin or Linux system.
 The Makefile will find them automatically and build an SSL-based <i>wc3270</i>.
 If for some reason you later want to build a non-SSL <i>wc3270</i>, pass the
 command-line option <tt>NO_SSL=1</tt> to <b>make</b>.
</p>
</p>
<h2>Using Microsoft Tools</h2>
To build <i>wc3270</i> using Microsoft Visual C++, start a Command Prompt
window.
At the command prompt, 'cd' to the <i>wc3270</i> source directory, and type:
<pre>&nbsp;&nbsp;&nbsp;nmake /f Msc\Makefile</pre>
<p>
This will build <tt>wc3270.exe</tt> and the DLLs and utilities needed to
install and run it.
</p>
<p>
 Note that the resulting version of <i>wc3270</i> will not
 include SSL support.
 To build an OpenSSL version of <i>wc3270</i> with MSC, you will
 need the header files and libraries from the full Win32 OpenSSL distribution
 described in the <a href="SSL.html">SSL Instructions</a> (not the 'lite'
 version).  First, install OpenSSL on your Windows box.
 Then you must modify <tt>Msc\Makefile</tt>; instructions for doing that are
 included in the file itself.
</p>
<h2>Creating an Installer</h2>
<p>
  The source tarball also includes an <b>.iss</b> file for use with Inno
  Setup.  This is used to construct the install executable.  See the
  <a href="http://www.jrsoftware.org/isinfo.php">Inno Setup webpage</a> for details.
</body>
</html>
